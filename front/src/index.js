import React from "react";
import ReactDOM from "react-dom";
import { Provider as ReduxProvider } from "react-redux";
import "./index.css";
import App from "./App";
import configureStore from "./store";
import * as sessionActions from "./store/session";
import { restoreCSRF, csrfFetch } from "./store/csrf";
const store = configureStore();

if (process.env.NODE_ENV !== "production") {
  // ... const store = configureStore();

  restoreCSRF();

  window.csrfFetch = csrfFetch;
  window.store = store;
  window.sessionActions = sessionActions;
}

function Root() {
  return (
    <ReduxProvider store={store}>
      <App />
      <div className="background">
        <svg
          className="blueBlob"
          version="1.1"
          id="Layer_1"
          xmlns="http://www.w3.org/2000/svg"
          x="0px"
          y="0px"
          viewBox="0 0 240 240"
          enable-background="new 0 0 240 240"
        >
          <path
            opacity="0.2"
            fill="#00B2F0"
            stroke="#00B2F0"
            stroke-width="0.3"
            d="M24.2,56.46c7.44-11.9,20.67-33.05,48.81-43.78c32.88-12.54,64.75-2.73,87.86,4.38
	c14.85,4.57,67.66,20.82,70.03,47.43c1.32,14.82-14.36,17.49-18.6,40.13c-3.67,19.57,6.25,27.17,10.11,51.45
	c1.74,10.96,7.41,46.53-10.19,63.85c-30.74,30.27-139.99,12.26-182.51-43.42c-18.06-23.65-20.73-49.7-21.22-55.82
	C5.8,87.45,20.03,63.12,24.2,56.46z"
          >
            <animate
              id="anim1"
              attributeType="XML"
              attributeName="d"
              to="M37.06,56.68C45.28,45,60.17,41.16,89.61,33.95c29.38-7.2,44.07-10.79,61.64-7.07
                c6.39,1.35,38.81,8.21,49.52,32.34c5.59,12.61-0.67,16.57,1.53,43.4c2.39,29.18,10.49,32.92,10.11,51.45
                c-0.41,20.16-10.6,45.07-29.33,57.74c-34.66,23.43-89.58-1.16-117.73-30.32c-26.6-27.56-31.1-61.08-33.35-77.81
                C29.69,86.39,27.52,70.25,37.06,56.68z"
              dur="6s"
              begin="0s; anim2.end"
            ></animate>
            <animate
              id="anim2"
              attributeType="XML"
              attributeName="d"
              from="M37.06,56.68C45.28,45,60.17,41.16,89.61,33.95c29.38-7.2,44.07-10.79,61.64-7.07
                c6.39,1.35,38.81,8.21,49.52,32.34c5.59,12.61-0.67,16.57,1.53,43.4c2.39,29.18,10.49,32.92,10.11,51.45
                c-0.41,20.16-10.6,45.07-29.33,57.74c-34.66,23.43-89.58-1.16-117.73-30.32c-26.6-27.56-31.1-61.08-33.35-77.81
                C29.69,86.39,27.52,70.25,37.06,56.68z"
              to="M24.2,56.46c7.44-11.9,20.67-33.05,48.81-43.78c32.88-12.54,64.75-2.73,87.86,4.38
                c14.85,4.57,67.66,20.82,70.03,47.43c1.32,14.82-14.36,17.49-18.6,40.13c-3.67,19.57,6.25,27.17,10.11,51.45
                c1.74,10.96,7.41,46.53-10.19,63.85c-30.74,30.27-139.99,12.26-182.51-43.42c-18.06-23.65-20.73-49.7-21.22-55.82
                C5.8,87.45,20.03,63.12,24.2,56.46z"
              dur="6s"
              begin="anim1.end"
            ></animate>
          </path>
        </svg>
        <svg
          className="redBlob"
          version="1.1"
          id="Layer_1"
          xmlns="http://www.w3.org/2000/svg"
          x="0px"
          y="0px"
          viewBox="0 0 240 240"
          enable-background="new 0 0 240 240"
        >
          <path
            opacity="0.2"
            fill="#DD4E26"
            d="M37.06,56.68C45.28,45,60.17,41.16,89.61,33.95c29.38-7.2,44.07-10.79,61.64-7.07
	c6.39,1.35,38.81,8.21,49.52,32.34c5.59,12.61-0.67,16.57,1.53,43.4c2.39,29.18,10.49,32.92,10.11,51.45
	c-0.41,20.16-10.6,45.07-29.33,57.74c-34.66,23.43-89.58-1.16-117.73-30.32c-26.6-27.56-31.1-61.08-33.35-77.81
	C29.69,86.39,27.52,70.25,37.06,56.68z"
          >
            <animate
              id="animred1"
              attributeName="d"
              attributeType="XML"
              begin="0s; animred2.end"
              to="M24.2,56.46c7.44-11.9,20.67-33.05,48.81-43.78c32.88-12.54,64.75-2.73,87.86,4.38
                c14.85,4.57,67.66,20.82,70.03,47.43c1.32,14.82-14.36,17.49-18.6,40.13c-3.67,19.57,6.25,27.17,10.11,51.45
                c1.74,10.96,7.41,46.53-10.19,63.85c-30.74,30.27-139.99,12.26-182.51-43.42c-18.06-23.65-20.73-49.7-21.22-55.82
                C5.8,87.45,20.03,63.12,24.2,56.46z"
              dur="9s"
            ></animate>
            <animate
              id="animred2"
              attributeName="d"
              attributeType="XML"
              begin="animred1.end"
              from="M24.2,56.46c7.44-11.9,20.67-33.05,48.81-43.78c32.88-12.54,64.75-2.73,87.86,4.38
                c14.85,4.57,67.66,20.82,70.03,47.43c1.32,14.82-14.36,17.49-18.6,40.13c-3.67,19.57,6.25,27.17,10.11,51.45
                c1.74,10.96,7.41,46.53-10.19,63.85c-30.74,30.27-139.99,12.26-182.51-43.42c-18.06-23.65-20.73-49.7-21.22-55.82
                C5.8,87.45,20.03,63.12,24.2,56.46z"
              to="M37.06,56.68C45.28,45,60.17,41.16,89.61,33.95c29.38-7.2,44.07-10.79,61.64-7.07
                c6.39,1.35,38.81,8.21,49.52,32.34c5.59,12.61-0.67,16.57,1.53,43.4c2.39,29.18,10.49,32.92,10.11,51.45
                c-0.41,20.16-10.6,45.07-29.33,57.74c-34.66,23.43-89.58-1.16-117.73-30.32c-26.6-27.56-31.1-61.08-33.35-77.81
                C29.69,86.39,27.52,70.25,37.06,56.68z"
              dur="9s"
            ></animate>
          </path>
        </svg>
        <svg
          className="yellowBlob"
          version="1.1"
          id="Layer_1"
          xmlns="http://www.w3.org/2000/svg"
          x="0px"
          y="0px"
          viewBox="0 0 195.76 182.4"
          enable-background="new 0 0 195.76 182.4"
        >
          <path
            opacity="0.4"
            fill="#ece70c"
            stroke="#ece70c"
            stroke-width="0.5"
            d="M164.46,7.04c11.07,6.93,15.27,22.06,22.74,52.55
	c7.2,29.38,10.79,44.07,7.07,61.64c-1.35,6.39-8.21,38.81-32.34,49.52c-12.61,5.59-16.57-0.67-43.4,1.53
	c-29.18,2.39-32.92,10.49-51.45,10.11c-20.16-0.41-45.07-10.6-57.74-29.33c-24.28-35.89-2.23-92.72,30.32-117.73
	c10.55-8.1,26.33-12.59,57.91-21.56C133.17,3.65,151.24-1.24,164.46,7.04z"
          >
            <animate
              id="anim3"
              attributeName="d"
              attributeType="XML"
              begin="0s; anim4.end"
              to="M24.2,56.46c7.44-11.9,20.67-33.05,48.81-43.78c32.88-12.54,64.75-2.73,87.86,4.38
                c14.85,4.57,67.66,20.82,70.03,47.43c1.32,14.82-14.36,17.49-18.6,40.13c-3.67,19.57,6.25,27.17,10.11,51.45
                c1.74,10.96,7.41,46.53-10.19,63.85c-30.74,30.27-139.99,12.26-182.51-43.42c-18.06-23.65-20.73-49.7-21.22-55.82
                C5.8,87.45,20.03,63.12,24.2,56.46z"
              dur="60s"
            ></animate>
            <animate
              id="anim4"
              attributeName="d"
              attributeType="XML"
              begin="anim3.end"
              from="M24.2,56.46c7.44-11.9,20.67-33.05,48.81-43.78c32.88-12.54,64.75-2.73,87.86,4.38
                c14.85,4.57,67.66,20.82,70.03,47.43c1.32,14.82-14.36,17.49-18.6,40.13c-3.67,19.57,6.25,27.17,10.11,51.45
                c1.74,10.96,7.41,46.53-10.19,63.85c-30.74,30.27-139.99,12.26-182.51-43.42c-18.06-23.65-20.73-49.7-21.22-55.82
                C5.8,87.45,20.03,63.12,24.2,56.46z"
              to="M164.46,7.04c11.07,6.93,15.27,22.06,22.74,52.55
	c7.2,29.38,10.79,44.07,7.07,61.64c-1.35,6.39-8.21,38.81-32.34,49.52c-12.61,5.59-16.57-0.67-43.4,1.53
	c-29.18,2.39-32.92,10.49-51.45,10.11c-20.16-0.41-45.07-10.6-57.74-29.33c-24.28-35.89-2.23-92.72,30.32-117.73
	c10.55-8.1,26.33-12.59,57.91-21.56C133.17,3.65,151.24-1.24,164.46,7.04z"
              dur="60s"
            ></animate>
          </path>
        </svg>
      </div>
    </ReduxProvider>
  );
}

ReactDOM.render(
  <React.StrictMode>
    <Root />
  </React.StrictMode>,
  document.getElementById("root")
);
